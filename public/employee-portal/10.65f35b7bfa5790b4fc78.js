(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{i9Kr:function(r,e,o){"use strict";o.r(e),o.d(e,"UpdateProfileModule",(function(){return x}));var t=o("ofXK"),s=o("tyNb"),a=o("3Pt+"),i=o("fXoL"),l=o("5eHb"),n=o("DYcV"),d=o("IYfF"),c=o("0IaG"),p=o("Cu7F"),b=o("kmnG"),u=o("qFsG"),m=o("NFeN"),w=o("bTqV");function f(r,e){1&r&&(i.Ub(0,"mat-error"),i.Gc(1," Password is "),i.Ub(2,"strong"),i.Gc(3,"required"),i.Tb(),i.Tb())}function h(r,e){1&r&&(i.Ub(0,"mat-error"),i.Gc(1," Password is "),i.Ub(2,"strong"),i.Gc(3,"required"),i.Tb(),i.Tb())}function g(r,e){1&r&&(i.Ub(0,"mat-error"),i.Gc(1," Password length must be between "),i.Ub(2,"strong"),i.Gc(3,"5 & 30"),i.Tb(),i.Tb())}function U(r,e){1&r&&(i.Ub(0,"mat-error"),i.Gc(1," Password doesn't "),i.Ub(2,"strong"),i.Gc(3,"match"),i.Tb(),i.Tb())}function v(r,e){if(1&r&&(i.Sb(0),i.Ub(1,"h6",27),i.Gc(2),i.Tb(),i.Ub(3,"h4",6),i.Gc(4),i.Tb(),i.Rb()),2&r){const r=i.fc();i.Bb(2),i.Hc(null==r.userObj||null==r.userObj.role?null:r.userObj.role.name),i.Bb(2),i.Hc((null==r.userObj?null:r.userObj.first_name)+" "+(null==r.userObj?null:r.userObj.last_name))}}const T=[{path:"",component:(()=>{class r{constructor(r,e,o,t,s,a){this.formBuilder=r,this.toastrService=e,this.homeService=o,this.authService=t,this.dialogRef=s,this.globalFunctions=a,this.profilePic="./assets/img/faces/marc.jpg",this.first_name="",this.last_name="",this.email="",this.pwdShowHide=[!1,!1,!1]}showHidePwd(r,e){this.pwdShowHide[r]=!this.pwdShowHide[r],e.stopPropagation()}ngOnInit(){this.fetchUserData(),this.initializePwdResetForm(),this.profileForm=this.formBuilder.group({email:[{value:"",disabled:!0}],first_name:[{value:"",disabled:!0}],last_name:[{value:"",disabled:!0}]})}fetchUserData(){this.homeService.getProfileDetails().subscribe(r=>{this.userObj=r.data,this.profilePic=r.data.picture||"./assets/img/faces/marc.jpg",this.profileForm.patchValue(this.userObj)})}get controls(){return this.profileForm.controls}get pwdControls(){return this.pwdResetForm.controls}initializePwdResetForm(){this.pwdResetForm=this.formBuilder.group({old_password:["",[a.s.required,a.s.minLength(5),a.s.maxLength(30)]],password:["",[a.s.required,a.s.minLength(5),a.s.maxLength(30)]],password_confirmation:[""]},{validator:this.globalFunctions.comparePassword("password","password_confirmation")})}resetPwd(){this.pwdControls.password.value==this.pwdControls.password_confirmation.value?this.homeService.updatePassword(this.pwdResetForm.value).subscribe(r=>{this.toastrService.success(r.message),this.pwdResetForm.reset(),Object.keys(this.pwdControls).forEach(r=>{this.pwdControls[r].setErrors(null)}),this.pwdShowHide=[!1,!1,!1]},r=>{this.toastrService.error("string"==typeof r?r:r[0])}):this.toastrService.error("Passwords don't match")}imageUpload(){document.getElementById("uploader").click()}onFileSelect(r){const e=r.target.files[0];if(e.size/1e6>5)return this.toastrService.error("Maximum image size (5mbs) exceeded."),void(r.target.value=null);const o=new FileReader;o.readAsDataURL(e),o.onload=()=>{this.uploadFileToServer(o.result),r.target.value=null},o.onerror=e=>{r.target.value=null,this.toastrService.error("Image uploading failed!","danger")}}uploadFileToServer(r){}updateProfileInfo(){}update2FA(r){}}return r.\u0275fac=function(e){return new(e||r)(i.Ob(a.d),i.Ob(l.b),i.Ob(n.a),i.Ob(d.a),i.Ob(c.a),i.Ob(p.a))},r.\u0275cmp=i.Ib({type:r,selectors:[["app-update-profile"]],decls:69,vars:15,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"formGroup"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["matInput","","formControlName","first_name","placeholder","First name"],["matInput","","formControlName","last_name","placeholder","Last name"],[1,"clearfix"],[1,"col-md-12"],["formControlName","old_password","matInput","","placeholder","Old Password",3,"type"],[4,"ngIf"],["matSuffix","",1,"cursor-pointer","hover-effect",3,"ngClass","click"],["formControlName","password","matInput","","placeholder","New Password",3,"type"],["formControlName","password_confirmation","matInput","","placeholder","New Password",3,"type"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right",3,"disabled","click"],[1,"col-md-4"],[1,"card","card-profile"],[1,"avatar-outer"],[1,"card-avatar"],[1,"img",3,"src"],["type","file","hidden","","id","uploader","accept","image/png,image/jpeg,image/jpg",3,"change"],[1,"card-category","text-gray"]],template:function(r,e){1&r&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"div",4),i.Ub(5,"div",5),i.Ub(6,"h4",6),i.Gc(7,"Edit Profile"),i.Tb(),i.Ub(8,"p",7),i.Gc(9,"Update your profile"),i.Tb(),i.Tb(),i.Ub(10,"div",8),i.Ub(11,"form",9),i.Ub(12,"mat-form-field"),i.Ub(13,"mat-label"),i.Gc(14,"Email"),i.Tb(),i.Pb(15,"input",10),i.Tb(),i.Ub(16,"mat-form-field"),i.Ub(17,"mat-label"),i.Gc(18,"First Name"),i.Tb(),i.Pb(19,"input",11),i.Tb(),i.Ub(20,"mat-form-field"),i.Ub(21,"mat-label"),i.Gc(22,"Last Name"),i.Tb(),i.Pb(23,"input",12),i.Tb(),i.Pb(24,"div",13),i.Tb(),i.Tb(),i.Tb(),i.Ub(25,"div",2),i.Ub(26,"div",14),i.Ub(27,"div",4),i.Ub(28,"div",5),i.Ub(29,"h4",6),i.Gc(30,"Reset Password"),i.Tb(),i.Ub(31,"p",7),i.Gc(32,"Update your password"),i.Tb(),i.Tb(),i.Ub(33,"div",8),i.Ub(34,"form",9),i.Ub(35,"mat-form-field"),i.Ub(36,"mat-label"),i.Gc(37,"Old Password"),i.Tb(),i.Pb(38,"input",15),i.Ec(39,f,4,0,"mat-error",16),i.Ub(40,"mat-icon",17),i.bc("click",(function(r){return e.showHidePwd(0,r)})),i.Gc(41," remove_red_eye"),i.Tb(),i.Tb(),i.Ub(42,"mat-form-field"),i.Ub(43,"mat-label"),i.Gc(44,"New Password"),i.Tb(),i.Pb(45,"input",18),i.Ec(46,h,4,0,"mat-error",16),i.Ec(47,g,4,0,"mat-error",16),i.Ub(48,"mat-icon",17),i.bc("click",(function(r){return e.showHidePwd(1,r)})),i.Gc(49," remove_red_eye"),i.Tb(),i.Tb(),i.Ub(50,"mat-form-field"),i.Ub(51,"mat-label"),i.Gc(52,"Confirm Password"),i.Tb(),i.Pb(53,"input",19),i.Ec(54,U,4,0,"mat-error",16),i.Ub(55,"mat-icon",17),i.bc("click",(function(r){return e.showHidePwd(2,r)})),i.Gc(56," remove_red_eye"),i.Tb(),i.Tb(),i.Ub(57,"button",20),i.bc("click",(function(){return e.resetPwd()})),i.Gc(58,"Reset Password"),i.Tb(),i.Pb(59,"div",13),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(60,"div",21),i.Ub(61,"div",22),i.Ub(62,"div",23),i.Ub(63,"div",24),i.Ub(64,"a"),i.Pb(65,"img",25),i.Tb(),i.Tb(),i.Ub(66,"input",26),i.bc("change",(function(r){return e.onFileSelect(r)})),i.Tb(),i.Tb(),i.Ub(67,"div",8),i.Ec(68,v,5,2,"ng-container",16),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&r&&(i.Bb(11),i.lc("formGroup",e.profileForm),i.Bb(23),i.lc("formGroup",e.pwdResetForm),i.Bb(4),i.lc("type",e.pwdShowHide[0]?"text":"password"),i.Bb(1),i.lc("ngIf",null==e.pwdControls||null==e.pwdControls.old_password||null==e.pwdControls.old_password.errors?null:e.pwdControls.old_password.errors.required),i.Bb(1),i.lc("ngClass",e.pwdShowHide[0]?"red-clr":""),i.Bb(5),i.lc("type",e.pwdShowHide[1]?"text":"password"),i.Bb(1),i.lc("ngIf",null==e.pwdControls||null==e.pwdControls.password||null==e.pwdControls.password.errors?null:e.pwdControls.password.errors.required),i.Bb(1),i.lc("ngIf",((null==e.pwdControls||null==e.pwdControls.password||null==e.pwdControls.password.errors?null:e.pwdControls.password.errors.minlength)||(null==e.pwdControls||null==e.pwdControls.password||null==e.pwdControls.password.errors?null:e.pwdControls.password.errors.maxlength))&&(null==e.pwdControls||null==e.pwdControls.password?null:e.pwdControls.password.touched)),i.Bb(1),i.lc("ngClass",e.pwdShowHide[1]?"red-clr":""),i.Bb(5),i.lc("type",e.pwdShowHide[2]?"text":"password"),i.Bb(1),i.lc("ngIf",(null==e.pwdControls||null==e.pwdControls.password_confirmation?null:e.pwdControls.password_confirmation.touched)&&(null==e.pwdControls||null==e.pwdControls.password_confirmation||null==e.pwdControls.password_confirmation.errors?null:e.pwdControls.password_confirmation.errors.mustMatch)),i.Bb(1),i.lc("ngClass",e.pwdShowHide[2]?"red-clr":""),i.Bb(2),i.lc("disabled",e.pwdResetForm.invalid),i.Bb(8),i.mc("src",e.profilePic,i.xc),i.Bb(3),i.lc("ngIf",e.userObj))},directives:[a.t,a.p,a.i,b.c,b.f,u.b,a.c,a.o,a.g,t.m,m.a,b.g,t.k,w.a,b.b],styles:["app-update-profile .avatar-outer mat-icon{position:absolute;bottom:0;right:15px;z-index:2;background:hsla(0,0%,49%,.8901960784313725);padding:5px;width:29px;height:29px;font-size:19px;border-radius:50%;color:#fff}app-update-profile .avatar-outer{position:relative;display:inline-block;width:130px;margin:0 auto}app-update-profile .card-profile .card-avatar{width:130px!important;height:130px!important}.tooltip-red{color:#fff!important;background:#b71c1c!important;font-size:10px!important}app-update-profile .edit-pencil{font-size:16px;height:16px;width:16px}"],encapsulation:2}),r})()}];var C=o("d3UM"),P=o("1jcm"),G=o("4rEt"),_=o("Qu3c");let x=(()=>{class r{}return r.\u0275mod=i.Mb({type:r}),r.\u0275inj=i.Lb({factory:function(e){return new(e||r)},imports:[[t.c,b.e,u.c,w.b,C.b,a.j,a.r,m.b,P.a,s.j.forChild(T),c.b,G.a,_.b]]}),r})()}}]);